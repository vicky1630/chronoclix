<%- include ('../partials/nav.ejs') %>
<h1 class="ml9">
    <span class="text-wrapper">
      <span class="letters">Chroniclix Series</span>
    </span>
  </h1>
<a href="/series/newseries" id="link-new">Create A New Series</a>
<ul>
    <% for (let i =0; i <series.length; i++) { %>
    <li>
     <div class="card-panel red lighten-4" id="card-background">
         <div><%=series[i].genre%></div>
         <a id="link" href="/series/<%=series[i]._id%>">
            <h4><b><%=series[i].name%></b></h4></a> 
              <h6>Created By:<%=series[i].creator%></h6>
              <h5><%=series[i].description%></h5>
         <a id="link" href='/series/<%=series[i]._id%>/edit'>EDIT</a>
         </div>
    </li>    
<% } %>
</ul>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
<script >
// Wrap every letter in a span
    var textWrapper = document.querySelector('.ml9 .letters');
    textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");
    
    anime.timeline({loop: true})
      .add({
        targets: '.ml9 .letter',
        scale: [0, 1],
        duration: 2500,
        elasticity: 600,
        delay: (el, i) => 145 * (i+1)
      }).add({
        targets: '.ml9',
        opacity: 0,
        duration: 2000,
        easing: "easeOutExpo",
        delay: 10000
      }); 
</script>
